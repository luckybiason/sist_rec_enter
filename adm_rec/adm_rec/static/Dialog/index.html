<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-br" xml:lang="pt-br">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Dialog Modal</title>

        <!-- Geral para jquery -->
        <!-- folha de estilo -->
        <link href="../../static/css/jquery-ui.css" type="text/css" rel="stylesheet" />
        <!-- Scripts -->
        <script src="../../static/js/jquery.js" type="text/javascript"></script>
        <script src="../../static/js/ui/jquery-ui-1.9.1.custom.min.js" type="text/javascript"></script>

        <!-- Teste do dialog -->
        <script type="text/javascript">
            $(function() {
                var i =new Array();
                $('#but1').click(function(){
                    i =new Array();
                    //popula o id com os ids selecionados   
                    $("input[type=checkbox]:checkbox[checked]").each(function(){
                            i.push(this.id); alert(this.id);
                    });
                    i.reverse() //inverte a ordem dos ids *correção = gambiarra
                    
                    $('#modal #idp').html(i.pop()); //já adiciona o 1º id a modal
                    $('#modal').dialog('open');//abre a modal
                });
                $('#modal').dialog({
                    autoOpen: false,
                    modal: true,
                    width: '430px',
                    heigth: '450px',
                    buttons: {
                        'Cancelar': function(){
                                    $('#modal').dialog('close');
                                    if ( i.length>0 ){
                                        $('#modal #idp').html(i.pop());
                                    	$('#modal').dialog('open');
                                    }
                        },
                        'Salvar': function(){
                                    alert('Salvando...');
                                    $('#modal').dialog('close');
                                    if ( i.length>0 ){
                                        $('#modal #idp').html(i.pop());
                                    	$('#modal').dialog('open');
                                    }
                        }
                    }
                 });
            });
        </script>

        <!-- Exclusivo do dialog -->
        <!-- folha de estilo -->
        <!-- Scripts -->
        <script src="js/jquery.simplemodal.js"  type="text/javascript"></script>

    </head>

    <body>
        <h2>Dialog Modal</h2>
        <hr/>
        <ul>
            <li><input type='checkbox' id='1'/>1</li>
            <li><input type='checkbox' id='2'/>2</li>
            <li><input type='checkbox' id='3'/>3</li>
            <li><input type='checkbox' id='4'/>4</li>
            <li><input type='checkbox' id='5'/>5</li>
        </ul>
        <input type='button' value='OK' id='but1'/>
        <div class='dialognormal' id='modal' title='Modal'>
            <form class='vForm' id='form_beneficio'>
                <fieldset>ioo<br/><p id='idp'></p></fieldset>
            </form>
        </div>

<hr/>

    </body>

</html>
